{
    "agent": {
        "metrics_collection_interval": 10,
        "logfile": "/var/logs/amazon-cloudwatch-agent.log"
    },
    "logs": {
        "logs_collected": {
            "files": {
                "collect_list": [
                    {
                        "file_path": "/home/ec2-user/webapp/combined.log",
                        "log_group_name": "csye6225-webapp",
                        "log_stream_name": "webapp"
                    }
                ]
            }
        },
        "log_stream_name": "cloudwatch_log_stream",
        "metric_transformations": [
            {
                "metric_name": "ApiGetStatusCode",
                "metric_namespace": "CustomMetrics",
                "metric_value": "$.status",
                "metric_unit": "Count",
                "log_group_name": "csye6225-webapp",
                "log_stream_name": "webapp",
                "filter_pattern": ".*GET .*",
                "timestamp": "$.timestamp"
            },
            {
                "metric_name": "ApiPostResponseTime",
                "metric_namespace": "CustomMetrics",
                "metric_value": "$.response_time",
                "metric_unit": "Milliseconds",
                "log_group_name": "csye6225-webapp",
                "log_stream_name": "webapp",
                "filter_pattern": ".*POST .*",
                "timestamp": "$.timestamp"
            },
            {
                "metric_name": "ApiPutResponseTime",
                "metric_namespace": "CustomMetrics",
                "metric_value": "$.response_time",
                "metric_unit": "Milliseconds",
                "log_group_name": "csye6225-webapp",
                "log_stream_name": "webapp",
                "filter_pattern": ".*PUT .*",
                "timestamp": "$.timestamp"
            }
        ]
    },
    "metrics": {
        "metrics_collected": {
            "statsd": {
                "service_address": ":8125",
                "metrics_collection_interval": 15,
                "metrics_aggregation_interval": 300
            }
        }
    }
}
